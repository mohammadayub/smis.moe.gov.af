@page "{handler?}"
@model Clean.UI.Pages.Settings.Passport.StockInModel
@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer _localizer
@{
    ViewData["Title"] = "StockIn";
}

@Html.AntiForgeryToken()
<div class="panel panel-flat" style="direction: rtl;">
    <div class="panel-heading">
        <h1 class="panel-title">@_localizer["نوعیت پاسپورت"]</h1>
    </div>
    <div class="panel-body">
        <form id="dv_Settings_Passport_StockIn" class="form main-form page-component" type="form" prefix="ux">
            <fieldset class="content-group">
                <legend class="text-bold">@_localizer["ثبت و ویرایش نوعیت پاسپورت"]</legend>
                <div class="col-md-12 pull-right">
                    <div class="row">
                        <div class="col-md-2 col-sm-12 col-xs-12 pull-right">
                            <div class="form-group">
                                <label class="text-bold">
                                    @_localizer["نوع پاسپورت"]
                                    <span class="text-danger">&nbsp;*</span>
                                </label>
                                <select id="uxpassporttypeid" name="uxPassportTypeId" child="uxpassportdurationid" class="select" asp-items="@Model.ListOfPassportType" required>
                                    <option></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-2 col-sm-4 col-xs-12 pull-right">
                            <div class="form-group">
                                <label class="text-bold">
                                    @_localizer["مدت اعتبار پاسپورت"]
                                    <span class="text-danger">&nbsp;*</span>
                                </label>
                                <select id="uxpassportdurationid" name="uxPassportDurationID" data-type="PassportDuration" class="select" required>
                                    <option></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-2 pull-right">
                            <div class="form-group">
                                <label class="text-bold">
                                    @_localizer["شروع سریال"]
                                    <span class="text-danger">&nbsp;*</span>
                                </label>
                                <input type="number" id="uxstartserial" name="uxStartSerial" class="form-control ser" required />
                            </div>
                        </div>
                        <div class="col-md-2 pull-right">
                            <div class="form-group">
                                <label class="text-bold">
                                    @_localizer["ختم سریال"]
                                    <span class="text-danger">&nbsp;*</span>
                                </label>
                                <input type="number" id="uxendserial" name="uxEndSerial" class="form-control ser" required />
                            </div>
                        </div>
                        <div class="col-md-2 pull-right">
                            <div class="form-group">
                                <label class="text-bold">
                                    @_localizer["تعداد پاسپورت"]
                                    <span class="text-danger">&nbsp;*</span>
                                </label>
                                <input type="number" id="uxpassportcount" name="uxPassportCount" class="form-control" readonly />
                            </div>
                        </div>
                        <div class="col-md-2 pull-right">
                            <div class="form-group">
                                <label class="text-bold">
                                    @_localizer["حالت"]
                                    <span class="text-danger">&nbsp;*</span>
                                </label>
                                <select id="uxstatusid" name="uxStatusID" asp-items="@Model.ListOfStatus" class="select" required>
                                    <option></option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </fieldset>
            <hr />
            <div class="row div-form-control main-form-details">
                <div class="col-md-12">
                    <div class="form-group actions">
                        <button type="button" class="btn btn-primary" action="save"><i class="icon-floppy-disk position-right"></i>ثبت معلومات</button>
                        <button type="button" class="btn btn-primary" action="search"><i class="icon-search4 position-right"></i>جستجو </button>
                        <button type="button" class="btn btn-primary" action="new"><i class="icon-new-tab position-right"></i>صفحه جدید </button>
                    </div>
                </div>
            </div>
            <div class="form-grid main-form-details" style="">
                <table style="direction: rtl;" bindonclick="true">
                    <thead>
                        <tr>
                            <th colname="PassportType">@_localizer["نوع پاسپورت"]</th>
                            <th colname="PassportDuration">@_localizer["مدت اعتبار"]</th>
                            <th colname="StartSerial">@_localizer["شروع"]</th>
                            <th colname="EndSerial">@_localizer["ختم"]</th>
                            <th colname="PassportCount">@_localizer["تعداد"]</th>
                            <th colname="UsedCount">@_localizer["استفاده شده"]</th>
                            <th colname="Status">@_localizer["حالت"]</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </form>
    </div>
</div>

@section PageScripts {
    <script>
        $('.ser').on('input', function () {
            var st = Number($('#uxstartserial').val());
            var ed = Number($('#uxendserial').val());
            if (st && ed) {
                var cn = ed - st + 1;
                $('#uxpassportcount').val(cn);
            }
        });
    </script>
}